<job id="multi-step-integration-with-job-listener-test" xmlns="https://jakarta.ee/xml/ns/jakartaee" version="2.0">
  <listeners>
    <listener ref="nablarchJobListenerExecutor">
      <properties>
        <property name="diConfigFilePath" value="integration-test/jbatch.xml" />
      </properties>
    </listener>
  </listeners>


  <step id="batchlet" next="chunk">
    <listeners>
      <listener ref="nablarchStepListenerExecutor" />
    </listeners>
    <batchlet ref="registerBatchOutputTable" />
  </step>

  <step id="chunk">
    <listeners>
      <listener ref="nablarchStepListenerExecutor" />
      <listener ref="nablarchItemWriteListenerExecutor" />
      <listener ref="progressLogListener" />
    </listeners>

    <chunk>
      <reader ref="batchOutputReader" />
      <writer ref="fileWriter" />
    </chunk>
  </step>
</job>